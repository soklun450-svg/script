local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/tlredz/Library/refs/heads/main/redz-V5-remake/main.luau"))()

local Window = Library:MakeWindow({
  Title = "SLN Hub",
  SubTitle = "SELENA GAMING",
  ScriptFolder = "redz-library-V5"
})

local Minimizer = Window:NewMinimizer({
  KeyCode = Enum.KeyCode.LeftControl
})

local MobileButton = Minimizer:CreateMobileMinimizer({
  Image = "rbxassetid://0",
  BackgroundColor3 = Color3.fromRGB(0, 0, 0)
})

-- Redz Lib v5 tab
local Tab = Window:MakeTab({
    Name = "Auto Farm",
    Icon = "rbxassetid://4483345998"
})

-- ===== Exercise args =====
local exerciseArgs = {
    workspace:WaitForChild("World")
        :WaitForChild("World2")
        :WaitForChild("Area7")
        :WaitForChild("Exercise")
        :WaitForChild("\232\140\132\229\173\144")
}

-- ===== Win Race args =====
local raceArgs = {100000} -- 100k wins

-- ===== Loop states =====
getgenv().AutoExercise = false
getgenv().AutoWinRace = false

-- ===== Exercise Toggle =====
Tab:AddToggle({
    Name = "Auto Eat",
    Default = false,
    Callback = function(Value)
        getgenv().AutoExercise = Value
        if Value then
            task.spawn(function()
                while task.wait() do
                    if not getgenv().AutoExercise then break end
                    game:GetService("ReplicatedStorage")
                        :WaitForChild("Remote")
                        :WaitForChild("Event")
                        :WaitForChild("Game")
                        :WaitForChild("[C-S]PlayerExercise")
                        :FireServer(unpack(exerciseArgs))
                end
            end)
        end
    end
})

-- ===== Win Race Toggle =====
Tab:AddToggle({
    Name = "Auto Collect Wins",
    Default = false,
    Callback = function(Value)
        getgenv().AutoWinRace = Value
        if Value then
            task.spawn(function()
                while task.wait(0.1) do -- ultra fast, claim 100k wins repeatedly
                    if not getgenv().AutoWinRace then break end
                    game:GetService("ReplicatedStorage")
                        :WaitForChild("Remote")
                        :WaitForChild("Event")
                        :WaitForChild("Game")
                        :WaitForChild("[C-S]PlayerWinRace")
                        :FireServer(unpack(raceArgs))
                end
            end)
        end
    end
})

local Tab = Window:MakeTab({
  Title = "Settings",
  Icon = "settings"
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Player = Players.LocalPlayer

Tab:AddToggle({
	Name = "Noclip (Safe)",
	Default = false,
	Callback = function(Value)
		SetNoclip(Value)
	end
})

local Noclip = false
local NoclipConn

local function SetNoclip(state)
	Noclip = state

	if NoclipConn then
		NoclipConn:Disconnect()
		NoclipConn = nil
	end

	if state then
		NoclipConn = RunService.Stepped:Connect(function()
			local char = Player.Character
			if not char then return end

			for _, v in ipairs(char:GetDescendants()) do
				if v:IsA("BasePart") then
					v.CanCollide = false
				end
			end
		end)
	end
end

-- auto re-apply after respawn (safe)
Player.CharacterAdded:Connect(function()
	if Noclip then
		task.wait(0.2)
		SetNoclip(true)
	end
end)
